{% extends 'admin/comp/base.html.twig' %}
{% block body %}
    <h3>All Collections</h3>
    <table class="table table-dark"> {#all collections start#}
        <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col">name</th>
            <th scope="col">description</th>
            <th scope="col">price</th>
            <th scope="col">Images</th>
            <th scope="col">file_url</th>
            <th scope="col">Edit</th>
            <th scope="col">Delete</th>
        </tr>
        </thead>
        <tbody>
        {% for coll in allColls %}
            <tr>
                <th scope="row">{{ coll.id }}</th>
                <td>{{ coll.name }}</td>
                <td>{{ coll.description|slice(0, 30) }}{% if coll.description|length  > 30 %}...{% endif %}</td>
                <td>{{ coll.price }} â‚¬</td>
                <td>{% for img in coll.image %} <img src="{{ asset('uploads/images/'~ img.url ) }}" width="80px">{% endfor %}</td>
                <td>{% if coll.fileUrl %}<a class="btn-sm btn-info" target="_blank" href="{{ asset('uploads/pdf/' ~ coll.fileUrl )}}">View</a>{% endif %}</td>
                <td><a href="{{ path('collBaseAdmin',{id:coll.id}) }}"><i class="text-info fas fa-pencil-alt"></i></a></td>
                <td class="px-5"> <a onclick='return confirm("Are you sure you wanna delete this collection?")'
                                     href="{{ path('delete',{ repository: 'Coll',id: coll.id, redirect: 'collBaseAdmin' }) }}"><i class="text-danger fas fa-trash-alt"></i></a></td>
            </tr>
        {% endfor %}
        </tbody>
    </table> {#all collections end#}

    {{ form(collBaseForm) }}
{% endblock %}